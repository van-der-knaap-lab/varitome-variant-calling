rule all:
	input: [f"{accession}.depth.txt" for accession in config["accessions"]]

rule depth:
	input: "{accession}.bam"
	output: "{accession}.depth.txt"
	params:
		walltime="04:00:00",
		nodes=1,
		ppn=20,
		mem="40gb"
	shell:
		"""
		singularity exec bio_c.sif samtools depth -a {input} > {output}
		"""